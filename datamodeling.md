# Data Modeling의 이해

## 정의

> * 정보시스템 구축 위한 데이터 관점의 업무 분석기법

> * 현실세계 데이터에 대해 약속된 표기법에 의 해 표현하는 과정

> * 데이터베이스 구축하기 위한 분석, 설계과정

## 모델링의 데이터 관점

> * 1. 업무가 어떤 데이터와 관련이 있는지, 데이터간 관계 무엇인지 (What, Data)

> * 2. 프로세스 관점: 업무가 실제하고 있는 일 무엇인지, 무엇을 해야하는지 (How, Process) 

> * 3. 상관 관점 : 업무 처리하는 방법에 따라 데이터 어떻게 영향 받고 있는지  (Interaction)

## 데이터 모델링의 3단계 진행 
> (추상적)개념적 -> 논리적 -> 물리적(구체적) 

>> * 개념적 데이터 모델링(in계획분석단계): 추상화, 업무중심적, 포괄적, 전사적, EA수립시 사용 
>> * 논리적 데이터 모델링(in분석단계): KEY, 속성, 관계 표현. 재사용성 높음 (정규화) 

>> * 물리적 데이터 모델링(in설계단계): 실제 데이터베이스 이식할 수 있도록 성능,저장 등 물리적 성격 고려

# 엔터티
데이터 모델을 이해할 때 가장 명확하게 이해해야 하는 개념 중에 하나가 바로 엔터티(Entity)이다. 이것은 우리말로 실체, 객체라고 번역하기도 하는데 실무적으로 엔터티라는 외래어를 많이 사용하기 때문에 본 가이드에서는 엔터티라는 용어를 그대로 사용하기로 한다.

##  엔터티& 인스턴스 표기법

![logo](http://www.dbguide.net/publishing/img/knowledge/SQL_023.jpg)
> 과목, 강사, 사건은 엔터티에 해당하고 수학, 영어는 과목이라는 엔터티의 인스턴스이고 이춘식, 조시형은 강사라는 엔터티의 인스턴스이며 사건번호인 2010-001, 2010-002는 사건 엔터티에 대한 인스턴스에 해당한다.  

##  엔터티의 특징

>엔터티는 다음과 같은 특징을 가지고 있으며 만약 도출된 엔터티가 다음의 성질을 만족하지 못하면 적절하지 않은 엔터티일 확률이 높다.

>>-   반드시 해당 업무에서 필요하고 관리하고자 하는 정보
>>-   유일한 식별자에 의해 식별이 가능
>>-   영속적으로 존재하는 인스턴스의 집합이어야 한다.(한개x)
>>![그림6](http://www.dbguide.net/publishing/img/knowledge/SQL_027.jpg)
>>-   엔터티는 업무 프로세스에 의해 이용되어야 한다.
>>-   엔터티는 반드시 속성이 있어야 한다.
>>-   엔터티는 다른 엔터티와 최소 한 개 이상의 관계ㅇ
# 속성

> 업무에서 필요로 하는 인스턴스로 관리하고자 하는 의미상 분리되지 않는 최소의 데이터 단위
![logo](http://www.dbguide.net/publishing/img/knowledge/SQL_032.jpg)

>> 한 개의 엔터티는 2개 이상의 인스턴스 집합
>> 한 개의 엔터티는 2개 이상의 속성을 가짐
>> 한 개의 속성은 1개의 속성값을 가짐

>## 속성의 특징
>> * 업무에서 필요로 한다.  
>> * 의미상 더 이상 분리되지 않는다.  
>> * 엔터티를 설명하고 인스턴스의 구성요소가 된다.

## 분류 : 기본, 설계, 파생 속성
>> * 기본: 업무로부터 추출한 모든 일반적인 속성
>> * 설계: 업무를 규칙화하기 위해 새로 만들거나 변형, 정의하는 속성 ex)일련번호
>> * 파생: 다른 속성에 영향을 받아 발생하는 속성, 빠른 성능을 낼 수 있도록 원래 속성의 값을 계산 ex)합

## 속성의 이름

>> * 1. 해당업무에서 사용하는 이름 부여
>> * 2. 서술식 속성명은 사용 금지
>> * 3. 약어 사용 금지
>> * 4. 전체 데이터모델에서 유일성 확보
>>##### 속성의 표기법

>>속성의 표기법은 엔터티 내에 이름을 포함하여 표현하면 된다.

![그림3](http://www.dbguide.net/publishing/img/knowledge/SQL_034.jpg)

# 엔터티, 인스턴스, 속성, 속성값의 관계

>엔터티, 인스턴스, 속성, 속성값에 대한 관계를 분석하면 다음과 같은 결과를 얻을 수 있다.

>>-   한 개의 엔터티는 두 개 이상의 인스턴스의 집합이어야 한다.
>>-   한 개의 엔터티는 두 개 이상의 속성을 갖는다.
>>-   한 개의 속성은 한 개의 속성값을 갖는다.

>>![그림2](http://www.dbguide.net/publishing/img/knowledge/SQL_033.jpg)

>>속성은 엔터티에 속한 엔터티에 대한 자세하고 구체적인 정보를 나타내며 각각의 속성은 구체적인 값을 갖게 된다.  

>>## 도메인(Domain)

>>각 속성은 가질 수 있는 값의 범위가 있는데 이를 그 속성의 도메인(Domain)이라 한다. 
>각 속성은 도메인 이외의 값을 갖지 못한다. 따라서 도메인을 좀더 이해하기 쉽게 정리하면, 엔터티 내에서 속성에 대한 데이터타입과 크기 그리고 제약사항을 지정하는 것이라 할 수 있다.

# 관계

> 엔터티의 인스턴스 사이의 논리적인 연관성으로서 존재의 형태로서나 행위로서 서로에게 연관성이 부여된 상태

>> ### 패어링 
>> 엔터티 안에 인스턴스가 개별적으로 관계를 가지는 것


>![그림2](http://www.dbguide.net/publishing/img/knowledge/SQL_039.jpg)
>   강사인 정성철은 이춘식과 황종하에게 강의를 하는 형태로 관계가 표현되어 있고 조시형은 황종하에게 강의를 하는 형태로 되어 있다. 이와 같이 엔터티내에 인스턴스와 인스턴스사이에 관계가 설정되어 있는 어커런스를 관계 패어링이라고 한다. 엔터티는 인스턴스의 집합을 논리적으로 표현하였다면 관계는 관계 패어링의 집합을 논리적으로 표현한 것이다.  


## 관계의 표기법

>> 관계명 : 관계의 이름
>> 관계차수 : 1:1, 1:M, M:N
>> 관계선택성(관계선택사양) : 필수관계, 선택관계

## 관계 주의사항

>> * 1. 2개의 엔터티 사이에 관심있는 연관 규칙있는가
>> * 2. 2개의 엔터티 사이에 정보의 조합 발생할 수 있는가
>> * 3. 업무기술서,장표에 관계연결에 대한 규칙 서술가능한가
>> * 4. 업무기술서,장표에 관계연결을 가능케 하는 동사인가

# 식별자  

> 엔터티내에서 인스턴스를 구분하는 구분자
>> 식별자는 논리 데이터 모델링 단계에 사용
>> Key는 물리 데이터 모델링 단계에 사용

## 식별자의 특징 
![그림2](http://www.dbguide.net/publishing/img/knowledge/SQL_049.jpg)


## 식별자 분류

>* 식별자의 종류는 자신의 엔터티 내에서 대표성을 가지는가에 따라 주식별자와 보조식별자로 구분하고 엔터티 내에서 스스로 생성되었는지 여부에 따라 내부식별자와 외부식별자로 구분할 수 있다. 
>* 또한 단일 속성으로 식별이 되는가에 따라 단일식별자와 복합식별자로 구분할 수 있다.
> * 원래 업무적으로 의미가 있던 식별자 속성을 대체하여 일련번호와 같이 새롭게 만든 식별자를 구분하기 위해 본질식별자와 인조식별자로도 구분할 수 있다.
![그림4](http://www.dbguide.net/publishing/img/knowledge/SQL_051.jpg)


## 대체 여부 
> 본질식별자, 인조식별자
>> * 본질 : 업무에 의해 만들어지는 식별자
>> * 인조 : 인위적으로 만든 식별자

## 주식별자 도출기준

> *  1. #### 해당 업무에서 자주 이용되는 속성
>>직원이라는 엔터티가 있을 때 유일하게 식별가능한 속성으로는 주민등록번호와 사원번호가 존재할 수 있다. 사원번호가 그 회사에서 직원을 관리할 때 흔히 사용되므로 사원번호를 주식별자로 지정하고 주민등록번호는 보조식별자로 사용할 수 있다.

>>![그림6](http://www.dbguide.net/publishing/img/knowledge/SQL_053.jpg)

> * 2. #### 명칭, 내역 등과 같이 이름으로 기술되는 것들은 x
>> 명칭이나 내역이 있고 인스턴스들을 식별할 수 있는 다른 구분자가 존재하지 않을 경우는 새로운 식별자를 생성하도록 한다. 보통 일련번호와 코드를 많이 사용한다.

>>![그림7](http://www.dbguide.net/publishing/img/knowledge/SQL_054.jpg)
> * 3. 속성이 너무 많아지지 않도록 한다.
> ![그림8](http://www.dbguide.net/publishing/img/knowledge/SQL_055.jpg)

>> 접수의 주식별자가 접수일자, 관할부서, 입력자사번, 접수방법코드, 신청인구분코드, 신청자주민번호, 신청회수 등 7개 이상의 복잡한 속성을 가지고 있다. 이러한 모델의 경우 실제 테이블에 Primary Key는 7개가 생성될 것이고 만약 특정 신청인의 계약금 하나만 가져온다고 하더라도 매우 복잡한 SQL문장을 구사해야 한다.
>>따라서 복잡한 소스구성을 피하기 위하여 과도한 복합키는 배제하도록 노력해야 한다.
